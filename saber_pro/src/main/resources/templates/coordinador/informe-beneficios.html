<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Informe de Beneficios - Coordinador</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root { --primary-green: #7CB342; --dark-green: #558B2F; --accent-orange: #FF6F00; --white: #FFFFFF; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Roboto', sans-serif; background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); min-height: 100vh; }
        .navbar { background: linear-gradient(135deg, var(--primary-green) 0%, var(--dark-green) 100%) !important; box-shadow: 0 4px 12px rgba(0,0,0,0.15); padding: 1rem 0; }
        .navbar-brand { font-weight: 700; font-size: 1.5rem; color: var(--white) !important; }
        .navbar-nav .nav-link { color: rgba(255,255,255,0.9) !important; font-weight: 500; padding: 0.8rem 1.2rem !important; transition: all 0.3s ease; border-radius: 8px; margin: 0 5px; }
        .navbar-nav .nav-link:hover, .navbar-nav .nav-link.active { background: rgba(255,255,255,0.15); color: var(--white) !important; }
        .container { max-width: 1400px; padding: 40px 20px; }
        .hero-section { background: linear-gradient(135deg, var(--primary-green) 0%, var(--dark-green) 100%); padding: 40px; border-radius: 25px; color: white; margin-bottom: 40px; box-shadow: 0 10px 30px rgba(124, 179, 66, 0.3); }
        .hero-section h1 { font-size: 2.5rem; font-weight: 900; margin-bottom: 10px; }
        .benefit-summary-card { background: white; border-radius: 20px; padding: 25px; box-shadow: 0 8px 24px rgba(0,0,0,0.08); margin-bottom: 20px; border-left: 5px solid; }
        .table { background: white; border-radius: 15px; overflow: hidden; }
        .table thead { background: linear-gradient(135deg, var(--primary-green) 0%, var(--dark-green) 100%); color: white; }
        .table thead th { padding: 18px; font-weight: 600; text-transform: uppercase; font-size: 0.85rem; border: none; }
        .table tbody tr { transition: all 0.3s ease; border-bottom: 1px solid #f0f0f0; }
        .table tbody tr:hover { background: rgba(124, 179, 66, 0.05); }
        .badge { padding: 8px 16px; border-radius: 20px; font-weight: 600; }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container-fluid">
            <a class="navbar-brand" th:href="@{/coordinador/dashboard}">
                <i class="fas fa-graduation-cap"></i> Sistema Saber Pro UTS
            </a>
            <div class="collapse navbar-collapse">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/coordinador/dashboard}">Dashboard</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" th:href="@{/coordinador/informe-beneficios}">
                            <i class="fas fa-award"></i> Informe Beneficios
                        </a>
                    </li>
                </ul>
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <form th:action="@{/logout}" method="post" style="display: inline;">
                            <button type="submit" class="nav-link" style="border: none; background: none; cursor: pointer;">
                                <i class="fas fa-sign-out-alt"></i> Cerrar Sesión
                            </button>
                        </form>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="hero-section">
            <h1><i class="fas fa-award"></i> Informe de Beneficios</h1>
            <p style="font-size: 1.2rem;">Estudiantes beneficiados según Acuerdo UTS No. 01-009</p>
        </div>

        <!-- Resumen de Beneficios -->
        <div class="row g-4 mb-4">
            <div class="col-md-4">
                <div class="benefit-summary-card" style="border-left-color: #17a2b8;">
                    <h3 style="font-weight: 700; color: #17a2b8;" th:text="${count180_210}">0</h3>
                    <h6 style="font-weight: 700; margin-bottom: 10px;">Puntaje 180-210</h6>
                    <p style="font-size: 0.9rem; color: #757575; margin-bottom: 10px;">
                        <i class="fas fa-check-circle"></i> Exoneración con nota 4.5
                    </p>
                    <ul style="font-size: 0.85rem; color: #757575; margin: 0; padding-left: 20px;">
                        <li>Informe final de trabajo de grado</li>
                        <li>Seminario de grado IV con nota 4.5</li>
                    </ul>
                </div>
            </div>
            <div class="col-md-4">
                <div class="benefit-summary-card" style="border-left-color: #ffc107;">
                    <h3 style="font-weight: 700; color: #ffc107;" th:text="${count211_240}">0</h3>
                    <h6 style="font-weight: 700; margin-bottom: 10px;">Puntaje 211-240</h6>
                    <p style="font-size: 0.9rem; color: #757575; margin-bottom: 10px;">
                        <i class="fas fa-medal"></i> Exoneración con nota 4.7 + Beca 50%
                    </p>
                    <ul style="font-size: 0.85rem; color: #757575; margin: 0; padding-left: 20px;">
                        <li>Informe final con nota 4.7</li>
                        <li>Beca 50% derechos de grado</li>
                    </ul>
                </div>
            </div>
            <div class="col-md-4">
                <div class="benefit-summary-card" style="border-left-color: #28a745;">
                    <h3 style="font-weight: 700; color: #28a745;" th:text="${count241_mas}">0</h3>
                    <h6 style="font-weight: 700; margin-bottom: 10px;">Puntaje 241+</h6>
                    <p style="font-size: 0.9rem; color: #757575; margin-bottom: 10px;">
                        <i class="fas fa-trophy"></i> Exoneración con nota 5.0 + Beca 100%
                    </p>
                    <ul style="font-size: 0.85rem; color: #757575; margin: 0; padding-left: 20px;">
                        <li>Informe final con nota 5.0</li>
                        <li>Beca 100% derechos de grado</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Categoría Sobresalientes (241+) -->
        <div style="background: white; border-radius: 20px; padding: 0; box-shadow: 0 8px 24px rgba(0,0,0,0.08); margin-bottom: 30px; overflow: hidden;">
            <div style="background: linear-gradient(135deg, #28a745 0%, #1e7e34 100%); color: white; padding: 20px;">
                <h5 style="margin: 0; font-weight: 700;">
                    <i class="fas fa-trophy"></i> Sobresalientes - Puntaje Superior a 241
                </h5>
            </div>
            <div style="padding: 30px;">
                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Identificación</th>
                                <th>Estudiante</th>
                                <th>Puntaje</th>
                                <th>Beneficio</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="resultado : ${rango241_mas}">
                                <td style="padding: 15px;" th:text="${resultado.estudiante.identificacion}"></td>
                                <td style="padding: 15px;" th:text="${resultado.estudiante.nombreCompleto}"></td>
                                <td style="padding: 15px;">
                                    <span class="badge" style="background: #28a745; font-size: 1rem;" th:text="${resultado.puntajeGlobal}"></span>
                                </td>
                                <td style="padding: 15px;">
                                    <strong>Nota 5.0 + Beca 100%</strong>
                                    <p style="color: #757575; font-size: 0.85rem; margin: 0;">Derechos de grado</p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div th:if="${rango241_mas.isEmpty()}" class="alert alert-info text-center" style="border-radius: 12px;">
                    No hay estudiantes en esta categoría
                </div>
            </div>
        </div>

        <!-- Categoría Intermedio (211-240) -->
        <div style="background: white; border-radius: 20px; padding: 0; box-shadow: 0 8px 24px rgba(0,0,0,0.08); margin-bottom: 30px; overflow: hidden;">
            <div style="background: linear-gradient(135deg, #ffc107 0%, #f57f17 100%); color: white; padding: 20px;">
                <h5 style="margin: 0; font-weight: 700;">
                    <i class="fas fa-medal"></i> Intermedios - Puntaje entre 211 y 240
                </h5>
            </div>
            <div style="padding: 30px;">
                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Identificación</th>
                                <th>Estudiante</th>
                                <th>Puntaje</th>
                                <th>Beneficio</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="resultado : ${rango211_240}">
                                <td style="padding: 15px;" th:text="${resultado.estudiante.identificacion}"></td>
                                <td style="padding: 15px;" th:text="${resultado.estudiante.nombreCompleto}"></td>
                                <td style="padding: 15px;">
                                    <span class="badge" style="background: #ffc107; font-size: 1rem;" th:text="${resultado.puntajeGlobal}"></span>
                                </td>
                                <td style="padding: 15px;">
                                    <strong>Nota 4.7 + Beca 50%</strong>
                                    <p style="color: #757575; font-size: 0.85rem; margin: 0;">Derechos de grado</p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div th:if="${rango211_240.isEmpty()}" class="alert alert-info text-center" style="border-radius: 12px;">
                    No hay estudiantes en esta categoría
                </div>
            </div>
        </div>

        <!-- Categoría Básico (180-210) -->
        <div style="background: white; border-radius: 20px; padding: 0; box-shadow: 0 8px 24px rgba(0,0,0,0.08); margin-bottom: 30px; overflow: hidden;">
            <div style="background: linear-gradient(135deg, #17a2b8 0%, #117a8b 100%); color: white; padding: 20px;">
                <h5 style="margin: 0; font-weight: 700;">
                    <i class="fas fa-check-circle"></i> Básicos - Puntaje entre 180 y 210
                </h5>
            </div>
            <div style="padding: 30px;">
                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Identificación</th>
                                <th>Estudiante</th>
                                <th>Puntaje</th>
                                <th>Beneficio</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="resultado : ${rango180_210}">
                                <td style="padding: 15px;" th:text="${resultado.estudiante.identificacion}"></td>
                                <td style="padding: 15px;" th:text="${resultado.estudiante.nombreCompleto}"></td>
                                <td style="padding: 15px;">
                                    <span class="badge" style="background: #17a2b8; font-size: 1rem;" th:text="${resultado.puntajeGlobal}"></span>
                                </td>
                                <td style="padding: 15px;">
                                    <strong>Nota 4.5</strong>
                                    <p style="color: #757575; font-size: 0.85rem; margin: 0;">Exoneración de informe final</p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div th:if="${rango180_210.isEmpty()}" class="alert alert-info text-center" style="border-radius: 12px;">
                    No hay estudiantes en esta categoría
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
